shadow$provide.module$node_modules$react_grid_layout$build$GridItem=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+
typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};
global=require("module$node_modules$react$index");var _react2=_interopRequireDefault(global);global=require("module$node_modules$prop_types$index");global=_interopRequireDefault(global);var _reactDraggable=require("module$node_modules$react_draggable$dist$react_draggable"),_reactResizable=require("module$node_modules$react_resizable$index"),_utils=require("module$node_modules$react_grid_layout$build$utils");require=require("module$node_modules$classnames$index");var _classnames2=_interopRequireDefault(require);
require=function(_React$Component){function GridItem(){var _temp,_this,_ret;if(!(this instanceof GridItem))throw new TypeError("Cannot call a class as a function");for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this),_this.state={resizing:null,dragging:null,className:""},_temp),_possibleConstructorReturn(_this,_ret)}_inherits(GridItem,
_React$Component);GridItem.prototype.calcColWidth=function(){var _props=this.props,cols=_props.cols;return(_props.containerWidth-_props.margin[0]*(cols-1)-2*_props.containerPadding[0])/cols};GridItem.prototype.calcPosition=function(x,y,w,h,state){var _props2=this.props,margin=_props2.margin,containerPadding=_props2.containerPadding;_props2=_props2.rowHeight;var colWidth=this.calcColWidth();x={left:Math.round((colWidth+margin[0])*x+containerPadding[0]),top:Math.round((_props2+margin[1])*y+containerPadding[1]),
width:Infinity===w?w:Math.round(colWidth*w+Math.max(0,w-1)*margin[0]),height:Infinity===h?h:Math.round(_props2*h+Math.max(0,h-1)*margin[1])};state&&state.resizing&&(x.width=Math.round(state.resizing.width),x.height=Math.round(state.resizing.height));state&&state.dragging&&(x.top=Math.round(state.dragging.top),x.left=Math.round(state.dragging.left));return x};GridItem.prototype.calcXY=function(top,left){var _props3=this.props,margin=_props3.margin,cols=_props3.cols,rowHeight=_props3.rowHeight,w=_props3.w,
h=_props3.h;_props3=_props3.maxRows;var colWidth=this.calcColWidth();left=Math.round((left-margin[0])/(colWidth+margin[0]));top=Math.round((top-margin[1])/(rowHeight+margin[1]));left=Math.max(Math.min(left,cols-w),0);top=Math.max(Math.min(top,_props3-h),0);return{x:left,y:top}};GridItem.prototype.calcWH=function(_ref){var height=_ref.height,width=_ref.width,_props4=this.props,margin=_props4.margin;_ref=_props4.maxRows;var cols=_props4.cols,rowHeight=_props4.rowHeight,x=_props4.x;_props4=_props4.y;
var colWidth=this.calcColWidth();width=Math.round((width+margin[0])/(colWidth+margin[0]));height=Math.round((height+margin[1])/(rowHeight+margin[1]));width=Math.max(Math.min(width,cols-x),0);height=Math.max(Math.min(height,_ref-_props4),0);return{w:width,h:height}};GridItem.prototype.createStyle=function(pos){var _props5=this.props,usePercentages=_props5.usePercentages,containerWidth=_props5.containerWidth;_props5.useCSSTransforms?_props5=(0,_utils.setTransform)(pos):(_props5=(0,_utils.setTopLeft)(pos),
usePercentages&&(_props5.left=(0,_utils.perc)(pos.left/containerWidth),_props5.width=(0,_utils.perc)(pos.width/containerWidth)));return _props5};GridItem.prototype.mixinDraggable=function(child){return _react2.default.createElement(_reactDraggable.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},child)};GridItem.prototype.mixinResizable=
function(child,position){var _props6=this.props,minW=_props6.minW,minH=_props6.minH,maxW=_props6.maxW,maxH=_props6.maxH;_props6=this.calcPosition(0,0,_props6.cols-_props6.x,0).width;minW=this.calcPosition(0,0,minW,minH);maxW=this.calcPosition(0,0,maxW,maxH);return _react2.default.createElement(_reactResizable.Resizable,{width:position.width,height:position.height,minConstraints:[minW.width,minW.height],maxConstraints:[Math.min(maxW.width,_props6),Math.min(maxW.height,Infinity)],onResizeStop:this.onResizeHandler("onResizeStop"),
onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},child)};GridItem.prototype.onDragHandler=function(handlerName){var _this2=this;return function(e,_ref2){var node=_ref2.node,deltaX=_ref2.deltaX,deltaY=_ref2.deltaY;if(_ref2=_this2.props[handlerName]){var newPosition={top:0,left:0};switch(handlerName){case "onDragStart":deltaX=node.offsetParent;if(!deltaX)return;deltaY=deltaX.getBoundingClientRect();var clientRect=node.getBoundingClientRect();newPosition.left=
clientRect.left-deltaY.left+deltaX.scrollLeft;newPosition.top=clientRect.top-deltaY.top+deltaX.scrollTop;_this2.setState({dragging:newPosition});break;case "onDrag":if(!_this2.state.dragging)throw Error("onDrag called before onDragStart.");newPosition.left=_this2.state.dragging.left+deltaX;newPosition.top=_this2.state.dragging.top+deltaY;_this2.setState({dragging:newPosition});break;case "onDragStop":if(!_this2.state.dragging)throw Error("onDragEnd called before onDragStart.");newPosition.left=_this2.state.dragging.left;
newPosition.top=_this2.state.dragging.top;_this2.setState({dragging:null});break;default:throw Error("onDragHandler called with unrecognized handlerName: "+handlerName);}deltaX=_this2.calcXY(newPosition.top,newPosition.left);return _ref2.call(_this2,_this2.props.i,deltaX.x,deltaX.y,{e:e,node:node,newPosition:newPosition})}}};GridItem.prototype.onResizeHandler=function(handlerName){var _this3=this;return function(e,_ref3){var node=_ref3.node;_ref3=_ref3.size;var handler=_this3.props[handlerName];if(handler){var _props7=
_this3.props,cols=_props7.cols,x=_props7.x,i=_props7.i,maxW=_props7.maxW,minW=_props7.minW,maxH=_props7.maxH;_props7=_props7.minH;var _calcWH=_this3.calcWH(_ref3),w=_calcWH.w;_calcWH=_calcWH.h;w=Math.min(w,cols-x);w=Math.max(w,1);w=Math.max(Math.min(w,maxW),minW);_calcWH=Math.max(Math.min(_calcWH,maxH),_props7);_this3.setState({resizing:"onResizeStop"===handlerName?null:_ref3});handler.call(_this3,i,w,_calcWH,{e:e,node:node,size:_ref3})}}};GridItem.prototype.render=function(){var _props8=this.props,
isDraggable=_props8.isDraggable,isResizable=_props8.isResizable,useCSSTransforms=_props8.useCSSTransforms;_props8=this.calcPosition(_props8.x,_props8.y,_props8.w,_props8.h,this.state);var child=_react2.default.Children.only(this.props.children);useCSSTransforms=_react2.default.cloneElement(child,{className:(0,_classnames2.default)("react-grid-item",child.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":isDraggable,"react-draggable-dragging":!!this.state.dragging,
cssTransforms:useCSSTransforms}),style:_extends({},this.props.style,child.props.style,this.createStyle(_props8))});isResizable&&(useCSSTransforms=this.mixinResizable(useCSSTransforms,_props8));isDraggable&&(useCSSTransforms=this.mixinDraggable(useCSSTransforms));return useCSSTransforms};return GridItem}(_react2.default.Component);require.propTypes={children:global.default.element,cols:global.default.number.isRequired,containerWidth:global.default.number.isRequired,rowHeight:global.default.number.isRequired,
margin:global.default.array.isRequired,maxRows:global.default.number.isRequired,containerPadding:global.default.array.isRequired,x:global.default.number.isRequired,y:global.default.number.isRequired,w:global.default.number.isRequired,h:global.default.number.isRequired,minW:function(props,propName){propName=props[propName];if("number"!==typeof propName)return Error("minWidth not Number");if(propName>props.w||propName>props.maxW)return Error("minWidth larger than item width/maxWidth")},maxW:function(props,
propName){propName=props[propName];if("number"!==typeof propName)return Error("maxWidth not Number");if(propName<props.w||propName<props.minW)return Error("maxWidth smaller than item width/minWidth")},minH:function(props,propName){propName=props[propName];if("number"!==typeof propName)return Error("minHeight not Number");if(propName>props.h||propName>props.maxH)return Error("minHeight larger than item height/maxHeight")},maxH:function(props,propName){propName=props[propName];if("number"!==typeof propName)return Error("maxHeight not Number");
if(propName<props.h||propName<props.minH)return Error("maxHeight smaller than item height/minHeight")},i:global.default.string.isRequired,onDragStop:global.default.func,onDragStart:global.default.func,onDrag:global.default.func,onResizeStop:global.default.func,onResizeStart:global.default.func,onResize:global.default.func,isDraggable:global.default.bool.isRequired,isResizable:global.default.bool.isRequired,static:global.default.bool,useCSSTransforms:global.default.bool.isRequired,className:global.default.string,
handle:global.default.string,cancel:global.default.string};require.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:Infinity,maxW:Infinity};exports.default=require}
//# sourceMappingURL=module$node_modules$react_grid_layout$build$GridItem.js.map
